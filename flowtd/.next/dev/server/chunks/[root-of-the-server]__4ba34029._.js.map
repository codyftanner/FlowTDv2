{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///home/codytanner/FlowTDv2/flowtd/lib/db.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client'\n\nconst globalForPrisma = globalThis as unknown as {\n  prisma: PrismaClient | undefined\n}\n\nexport const prisma =\n  globalForPrisma.prisma ??\n  new PrismaClient({\n    log: process.env.NODE_ENV === 'development' ? ['query', 'error', 'warn'] : ['error'],\n  })\n\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,kBAAkB;AAIjB,MAAM,SACX,gBAAgB,MAAM,IACtB,IAAI,6IAAY,CAAC;IACf,KAAK,uCAAyC;QAAC;QAAS;QAAS;KAAO,GAAG;AAC7E;AAEF,wCAA2C,gBAAgB,MAAM,GAAG","debugId":null}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///home/codytanner/FlowTDv2/flowtd/lib/auth.ts"],"sourcesContent":["import { NextAuthOptions } from 'next-auth'\nimport { PrismaAdapter } from '@auth/prisma-adapter'\nimport GoogleProvider from 'next-auth/providers/google'\nimport { prisma } from './db'\nimport type { Session } from 'next-auth'\n\nconst isDev = process.env.NODE_ENV === 'development' && process.env.DEV_MODE === 'true'\n\n// Get or create dev user for development\nexport async function getDevUser() {\n  if (!isDev) return null\n  \n  let devUser = await prisma.user.findUnique({\n    where: { email: 'dev@flowtd.local' }\n  })\n  \n  if (!devUser) {\n    devUser = await prisma.user.create({\n      data: {\n        email: 'dev@flowtd.local',\n        name: 'Dev User',\n        emailVerified: new Date(),\n      }\n    })\n  }\n  \n  return devUser\n}\n\n// Helper to get session with dev mode support\nexport async function getServerSessionWithDev(options?: NextAuthOptions): Promise<Session | null> {\n  if (isDev) {\n    const devUser = await getDevUser()\n    if (devUser) {\n      return {\n        user: {\n          id: devUser.id,\n          email: devUser.email,\n          name: devUser.name,\n          image: devUser.image,\n        },\n        expires: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(), // 30 days\n      } as Session\n    }\n  }\n  \n  // Fall back to normal NextAuth session\n  const { getServerSession } = await import('next-auth/next')\n  return getServerSession(options || authOptions)\n}\n\nexport const authOptions: NextAuthOptions = {\n  adapter: PrismaAdapter(prisma) as any,\n  providers: [\n    GoogleProvider({\n      clientId: process.env.GOOGLE_CLIENT_ID!,\n      clientSecret: process.env.GOOGLE_CLIENT_SECRET!,\n      authorization: {\n        params: {\n          scope: 'openid email profile https://www.googleapis.com/auth/calendar.readonly https://www.googleapis.com/auth/calendar.events',\n        },\n      },\n    }),\n  ],\n  callbacks: {\n    async session({ session, user }) {\n      if (session.user) {\n        session.user.id = user.id\n      }\n      return session\n    },\n  },\n  pages: {\n    signIn: '/auth/signin',\n  },\n}\n\ndeclare module 'next-auth' {\n  interface Session {\n    user: {\n      id: string\n      name?: string | null\n      email?: string | null\n      image?: string | null\n    }\n  }\n}\n\n"],"names":[],"mappings":";;;;;;;;AACA;AACA;AACA;;;;AAGA,MAAM,QAAQ,oDAAyB,iBAAiB,QAAQ,GAAG,CAAC,QAAQ,KAAK;AAG1E,eAAe;IACpB,IAAI,CAAC,OAAO,OAAO;IAEnB,IAAI,UAAU,MAAM,qHAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QACzC,OAAO;YAAE,OAAO;QAAmB;IACrC;IAEA,IAAI,CAAC,SAAS;QACZ,UAAU,MAAM,qHAAM,CAAC,IAAI,CAAC,MAAM,CAAC;YACjC,MAAM;gBACJ,OAAO;gBACP,MAAM;gBACN,eAAe,IAAI;YACrB;QACF;IACF;IAEA,OAAO;AACT;AAGO,eAAe,wBAAwB,OAAyB;IACrE,IAAI,OAAO;QACT,MAAM,UAAU,MAAM;QACtB,IAAI,SAAS;YACX,OAAO;gBACL,MAAM;oBACJ,IAAI,QAAQ,EAAE;oBACd,OAAO,QAAQ,KAAK;oBACpB,MAAM,QAAQ,IAAI;oBAClB,OAAO,QAAQ,KAAK;gBACtB;gBACA,SAAS,IAAI,KAAK,KAAK,GAAG,KAAK,KAAK,KAAK,KAAK,KAAK,MAAM,WAAW;YACtE;QACF;IACF;IAEA,uCAAuC;IACvC,MAAM,EAAE,gBAAgB,EAAE,GAAG;IAC7B,OAAO,iBAAiB,WAAW;AACrC;AAEO,MAAM,cAA+B;IAC1C,SAAS,IAAA,uKAAa,EAAC,qHAAM;IAC7B,WAAW;QACT,IAAA,gKAAc,EAAC;YACb,UAAU,QAAQ,GAAG,CAAC,gBAAgB;YACtC,cAAc,QAAQ,GAAG,CAAC,oBAAoB;YAC9C,eAAe;gBACb,QAAQ;oBACN,OAAO;gBACT;YACF;QACF;KACD;IACD,WAAW;QACT,MAAM,SAAQ,EAAE,OAAO,EAAE,IAAI,EAAE;YAC7B,IAAI,QAAQ,IAAI,EAAE;gBAChB,QAAQ,IAAI,CAAC,EAAE,GAAG,KAAK,EAAE;YAC3B;YACA,OAAO;QACT;IACF;IACA,OAAO;QACL,QAAQ;IACV;AACF","debugId":null}},
    {"offset": {"line": 152, "column": 0}, "map": {"version":3,"sources":["file:///home/codytanner/FlowTDv2/flowtd/app/api/inbox/capture/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\nimport { getServerSessionWithDev } from '@/lib/auth'\nimport { prisma } from '@/lib/db'\n\nexport async function POST(req: NextRequest) {\n  try {\n    const session = await getServerSessionWithDev()\n    if (!session?.user?.id) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\n    }\n\n    const { title, notes } = await req.json()\n\n    if (!title) {\n      return NextResponse.json({ error: 'Title is required' }, { status: 400 })\n    }\n\n    const inboxItem = await prisma.inboxItem.create({\n      data: {\n        userId: session.user.id,\n        title,\n        notes: notes || null,\n        source: 'MANUAL',\n      },\n    })\n\n    return NextResponse.json({ success: true, inboxItem })\n  } catch (error) {\n    console.error('Failed to capture inbox item:', error)\n    return NextResponse.json({ error: 'Failed to capture item' }, { status: 500 })\n  }\n}\n\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,eAAe,KAAK,GAAgB;IACzC,IAAI;QACF,MAAM,UAAU,MAAM,IAAA,wIAAuB;QAC7C,IAAI,CAAC,SAAS,MAAM,IAAI;YACtB,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAe,GAAG;gBAAE,QAAQ;YAAI;QACpE;QAEA,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,MAAM,IAAI,IAAI;QAEvC,IAAI,CAAC,OAAO;YACV,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAoB,GAAG;gBAAE,QAAQ;YAAI;QACzE;QAEA,MAAM,YAAY,MAAM,qHAAM,CAAC,SAAS,CAAC,MAAM,CAAC;YAC9C,MAAM;gBACJ,QAAQ,QAAQ,IAAI,CAAC,EAAE;gBACvB;gBACA,OAAO,SAAS;gBAChB,QAAQ;YACV;QACF;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM;QAAU;IACtD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,iCAAiC;QAC/C,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAyB,GAAG;YAAE,QAAQ;QAAI;IAC9E;AACF","debugId":null}}]
}